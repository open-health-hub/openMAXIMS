// This code was generated by Catalin Tomozei using IMS Development Environment (version 1.70 build 3399.26368)
// Copyright (C) 1995-2009 IMS MAXIMS plc. All rights reserved.

package ims.RefMan.forms.icpactions;

import ims.framework.LayerBridge;
import ims.framework.controls.DynamicGridCell;
import ims.framework.controls.DynamicGridColumn;
import ims.framework.controls.DynamicGridRow;
import ims.framework.enumerations.DynamicCellType;
import ims.framework.exceptions.PresentationLogicException;
import ims.framework.utils.Date;

public class Logic extends BaseLogic
{
	private static final long serialVersionUID = 1L;

	@Override
	protected void onBtnPreviousClick() throws ims.framework.exceptions.PresentationLogicException
	{
		initializeActionTab();
		form.lyr1().showtabActions();
	}
	@Override
	protected void onBtnNextClick() throws ims.framework.exceptions.PresentationLogicException
	{
		form.lyr1().tabActions().setHeaderVisible(true);
		form.lyr1().tabConsultant().setHeaderVisible(true);
		form.lyr1().tabAnaesthetist().setHeaderVisible(true);
		form.lyr1().tabNursing().setHeaderVisible(true);
		form.lyr1().tabTherapy().setHeaderVisible(true);
		
		form.lyr1().showtabConsultant();
		onlyr1TabChanged(form.lyr1().tabConsultant());
		
		form.btnPrevious().setVisible(true);
	}
	
	private void initializeActionDynamicGrid()
	{
		form.lyr1().tabActions().dyngrdActions().getRows().clear();
		DynamicGridColumn actionsColumn = form.lyr1().tabActions().dyngrdActions().getColumns().newColumn("", true);
		actionsColumn.setIdentifier("ACTIONS");
		actionsColumn.setWidth(430);	
		
		DynamicGridColumn selectColumn = form.lyr1().tabActions().dyngrdActions().getColumns().newColumn("", true);
		selectColumn.setIdentifier("SELECT");
		selectColumn.setWidth(-1);
	}
	
	private void initializeConsultantDynamicGrid()
	{
		form.lyr1().tabConsultant().dyngrdConsultant().getRows().clear();
		DynamicGridColumn actionsColumn = form.lyr1().tabConsultant().dyngrdConsultant().getColumns().newColumn("", true);
		actionsColumn.setIdentifier("ACTIONS_CONSULTANT");
		actionsColumn.setWidth(430);	
		
		DynamicGridColumn valueColumn = form.lyr1().tabConsultant().dyngrdConsultant().getColumns().newColumn("", true);
		valueColumn.setIdentifier("VALUES");
		valueColumn.setWidth(430);
	}
	
	private void initializeClexaneDynamicGrid()
	{
		form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().clear();
		DynamicGridColumn actionsColumn = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getColumns().newColumn("", true);
		actionsColumn.setIdentifier("ACTIONS_C");
		actionsColumn.setWidth(630);	
		
		DynamicGridColumn valueColumn = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getColumns().newColumn("", true);
		valueColumn.setIdentifier("VALUES");
		valueColumn.setWidth(-1);
	}
	
	private void initializeAnaestheticDynamicGrid()
	{
		form.lyr1().tabAnaesthetist().dyngrdAnaesthetist().getRows().clear();
		DynamicGridColumn actionsColumn = form.lyr1().tabAnaesthetist().dyngrdAnaesthetist().getColumns().newColumn("", true);
		actionsColumn.setIdentifier("ACTIONS_A");
		actionsColumn.setWidth(430);	
		
		DynamicGridColumn valueColumn = form.lyr1().tabAnaesthetist().dyngrdAnaesthetist().getColumns().newColumn("", true);
		valueColumn.setIdentifier("VALUES");
		valueColumn.setWidth(430);
	}
	
	private void initializeTherapyDynamicGrid()
	{
		form.lyr1().tabTherapy().dyngrdTherapy().getRows().clear();
		form.lyr1().tabTherapy().dyngrdTherapy().clear();
		DynamicGridColumn actionsColumn = form.lyr1().tabTherapy().dyngrdTherapy().getColumns().newColumn("", true);
		actionsColumn.setIdentifier("ACTIONS_TH");
		actionsColumn.setWidth(430);	
		
		DynamicGridColumn valueColumn = form.lyr1().tabTherapy().dyngrdTherapy().getColumns().newColumn("", true);
		valueColumn.setIdentifier("VALUES");
		valueColumn.setWidth(430);
	}
	
	private void populateActionsTab()
	{
		form.lyr1().tabActions().dyngrdActions().getRows().clear();
		
		DynamicGridRow stageRow = form.lyr1().tabActions().dyngrdActions().getRows().newRow();
		stageRow.setExpanded(true);
		stageRow.setSelectable(false);
		DynamicGridCell stageCell = stageRow.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		stageCell.setValue("<img src='" +form.getImages().Clinical.Stages.getImagePath() + "'>" + "<font face='Verdana' color=123456> Stage Name : <b>OPA</b></font>");
				
		DynamicGridRow phaseRow1 = stageRow.getRows().newRow();
		phaseRow1.setExpanded(true);
		phaseRow1.setSelectable(false);
		DynamicGridCell phaseRow1Cell = phaseRow1.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		phaseRow1Cell.setValue("<img src='" +form.getImages().Clinical.Phases.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Consultation</b></font>");
		
		DynamicGridRow action1Row = phaseRow1.getRows().newRow();
		action1Row.setSelectable(false);
		DynamicGridCell action1Cell = action1Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action1Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Medical History & Examination</i>");
		
		DynamicGridCell status1Cell = action1Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status1Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action2Row =phaseRow1.getRows().newRow();
		action2Row.setSelectable(false);
		DynamicGridCell action2Cell = action2Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action2Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Physical Examination</i>");
		
		DynamicGridCell status2Cell = action2Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status2Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action3Row = phaseRow1.getRows().newRow();
		action3Row.setSelectable(false);
		DynamicGridCell action3Cell = action3Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action3Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Specific Examination</i>");
		
		DynamicGridCell status3Cell = action3Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status3Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action331Row = phaseRow1.getRows().newRow();
		action331Row.setSelectable(false);
		DynamicGridCell action331Cell = action331Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action331Cell.setValue("<img src='" +form.getImages().Clinical.Action_unselected.getImagePath() + "'>" + "<i>Perform Procedure</i>");
		
		DynamicGridCell status331Cell = action331Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status331Cell.setValue(Boolean.FALSE);
		
		
		DynamicGridRow phase3Row = stageRow.getRows().newRow();
		phase3Row.setExpanded(true);
		phase3Row.setSelectable(false);
		DynamicGridCell phase3RowCell = phase3Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		phase3RowCell.setValue("<img src='" +form.getImages().Clinical.Phases.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Nursing Assessment</b></font>");
		
		DynamicGridRow action31Row = phase3Row.getRows().newRow();
		action31Row.setSelectable(false);
		DynamicGridCell action31Cell = action31Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action31Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Patient Details </i>");
		
		DynamicGridCell status31Cell = action31Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status31Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action32Row =phase3Row.getRows().newRow();
		action32Row.setSelectable(false);
		DynamicGridCell action32Cell = action32Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action32Cell.setValue("<img src='" +form.getImages().Clinical.Action_unselected.getImagePath() + "'>" + "<i>Baseline Observations </i>");
		
		DynamicGridCell status32Cell = action32Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status32Cell.setValue(Boolean.FALSE);
		
		DynamicGridRow action33Row =phase3Row.getRows().newRow();
		action33Row.setSelectable(false);
		DynamicGridCell action33Cell = action33Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action33Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Current Medication</i>");
		
		DynamicGridCell status33Cell = action33Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status33Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action34Row =phase3Row.getRows().newRow();
		action34Row.setSelectable(false);
		DynamicGridCell action34Cell = action34Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action34Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Allergies</i>");
		
		DynamicGridCell status34Cell = action34Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status34Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action35Row =phase3Row.getRows().newRow();
		action35Row.setSelectable(false);
		DynamicGridCell action35Cell = action35Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action35Cell.setValue("<img src='" +form.getImages().Clinical.Action_unselected.getImagePath() + "'>" + "<i>Reason for Admission </i>");
		
		DynamicGridCell status35Cell = action35Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status35Cell.setValue(Boolean.FALSE);
		
		DynamicGridRow action36Row =phase3Row.getRows().newRow();
		action36Row.setSelectable(false);
		DynamicGridCell action36Cell = action36Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action36Cell.setValue("<img src='" +form.getImages().Clinical.Action_unselected.getImagePath() + "'>" + "<i>Health Questionnaire </i>");
		
		DynamicGridCell status36Cell = action36Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status36Cell.setValue(Boolean.FALSE);
		
		DynamicGridRow action37Row =phase3Row.getRows().newRow();
		action37Row.setSelectable(false);
		DynamicGridCell action37Cell = action37Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action37Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Clexane Protocol </i>");
		
		DynamicGridCell status37Cell = action37Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status37Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action38Row =phase3Row.getRows().newRow();
		action38Row.setSelectable(false);
		DynamicGridCell action38Cell = action38Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action38Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Support Services </i>");
		
		DynamicGridCell status38Cell = action38Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status38Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action39Row =phase3Row.getRows().newRow();
		action39Row.setSelectable(false);
		DynamicGridCell action39Cell = action39Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action39Cell.setValue("<img src='" +form.getImages().Clinical.Action_unselected.getImagePath() + "'>" + "<i>Discharge Planning/Education </i>");
		
		DynamicGridCell status39Cell = action39Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status39Cell.setValue(Boolean.FALSE);
		
		DynamicGridRow action40Row =phase3Row.getRows().newRow();
		action40Row.setSelectable(false);
		DynamicGridCell action40Cell = action40Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action40Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Investigations at Pre-Op Assessment </i>");
		
		DynamicGridCell status40Cell = action40Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status40Cell.setValue(Boolean.TRUE);
		
		
		
		
		DynamicGridRow phase2Row = stageRow.getRows().newRow();
		phase2Row.setExpanded(true);
		phase2Row.setSelectable(false);
		DynamicGridCell phase2RowCell = phase2Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		phase2RowCell.setValue("<img src='" +form.getImages().Clinical.Phases.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Anaesthetist Assessment</b></font>");
		
		DynamicGridRow action21Row = phase2Row.getRows().newRow();
		action21Row.setSelectable(false);
		DynamicGridCell action21Cell = action21Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action21Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Anaesthetic Consultation</i>");
		
		DynamicGridCell status21Cell = action21Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status21Cell.setValue(Boolean.TRUE);
		
		DynamicGridRow action22Row =phase2Row.getRows().newRow();
		action22Row.setSelectable(false);
		DynamicGridCell action22Cell = action22Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action22Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Fit for Surgery</i>");
		
		DynamicGridCell status22Cell = action22Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status22Cell.setValue(Boolean.TRUE);
		
		
		
		
		
		
		
		DynamicGridRow phase4Row = stageRow.getRows().newRow();
		phase4Row.setExpanded(true);
		phase4Row.setSelectable(false);
		DynamicGridCell phase4RowCell = phase4Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		phase4RowCell.setValue("<img src='" +form.getImages().Clinical.Phases.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Therapy Assessment</b></font>");
		
		DynamicGridRow action41Row = phase4Row.getRows().newRow();
		action41Row.setSelectable(false);
		DynamicGridCell action41Cell = action41Row.getCells().newCell(getActionsCol("ACTIONS"), DynamicCellType.HTMLVIEW);
		action41Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<i>Therapy Assessment </i>");
		
		DynamicGridCell status41Cell = action41Row.getCells().newCell(getActionsCol("SELECT"), DynamicCellType.BOOL);
		status41Cell.setValue(Boolean.TRUE);
		
		
		
		
	}
	
	protected void onFormOpen(Object[] args) throws PresentationLogicException 
	{
		initializeActionTab();		
		initializeActionDynamicGrid();
		initializeConsultantDynamicGrid();
		initializeAnaestheticDynamicGrid();
		//initializeTherapyDynamicGrid();
		initializeClexaneDynamicGrid();
		populateActionsTab();
		
		if(engine.getPreviousNonDialogFormName() != null)
		{
			if (engine.getPreviousNonDialogFormName().equals(form.getForms().Clinical.InpatientListwithICPActions)
					|| engine.getPreviousNonDialogFormName().equals(form.getForms().Clinical.ClinicListWithICPActions))				
				{				
					form.lnk1().setVisible(true);
				}
				else
				{
					form.lnk1().setVisible(false);
				}
		}
		
	}
	private void initializeActionTab() {
		form.lyr1().tabActions().setHeaderVisible(true);
		form.lyr1().tabConsultant().setHeaderVisible(false);
		form.lyr1().tabAnaesthetist().setHeaderVisible(false);
		form.lyr1().tabNursing().setHeaderVisible(false);
		form.lyr1().tabTherapy().setHeaderVisible(false);
		
		form.btnPrevious().setVisible(false);
	}
	
	private DynamicGridColumn getActionsCol(String identifier) 
	{
		return form.lyr1().tabActions().dyngrdActions().getColumns().getByIdentifier(identifier);
	}
	private DynamicGridColumn getConsultantCol(String identifier) 
	{
		return form.lyr1().tabConsultant().dyngrdConsultant().getColumns().getByIdentifier(identifier);
	}
	private DynamicGridColumn getAnaestheticCol(String identifier) 
	{
		return form.lyr1().tabAnaesthetist().dyngrdAnaesthetist().getColumns().getByIdentifier(identifier);
	}
	private DynamicGridColumn getTherapyCol(String identifier) 
	{
		return form.lyr1().tabTherapy().dyngrdTherapy().getColumns().getByIdentifier(identifier);
	}
	private DynamicGridColumn getClexaneCol(String identifier) 
	{
		return form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getColumns().getByIdentifier(identifier);
	}
	@Override
	protected void onlyr1TabChanged(LayerBridge tab) 
	{
		if (tab.equals(form.lyr1().tabConsultant()))
		{						
			populateConsultationTab();			
		}
		if (tab.equals(form.lyr1().tabTherapy()))
		{						
			initializeTherapyDynamicGrid();			
		}
		else if (tab.equals(form.lyr1().tabActions()))
		{					
			initializeActionTab();
			form.lyr1().showtabActions();
			populateActionsTab();
		}
		else if (tab.equals(form.lyr1().tabAnaesthetist()))
		{
			populateAnaesthetistTab();
		}
	}
	
	
	
	private void populateAnaesthetistTab() 
	{
		form.lyr1().tabAnaesthetist().dyngrdAnaesthetist().clear();
		initializeAnaestheticDynamicGrid();

		DynamicGridRow action1Row = form.lyr1().tabAnaesthetist().dyngrdAnaesthetist().getRows().newRow();
		action1Row.setExpanded(true);
		action1Row.setSelectable(false);
		DynamicGridCell phaseRow1Cell = action1Row.getCells().newCell(getAnaestheticCol("ACTIONS_A"), DynamicCellType.HTMLVIEW);
		phaseRow1Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Anaesthetic Consultation</b></font>");
		
		DynamicGridRow value1Row = action1Row.getRows().newRow();
		value1Row.setSelectable(false);
		DynamicGridCell action1Cell = value1Row.getCells().newCell(getAnaestheticCol("ACTIONS_A"), DynamicCellType.HTMLVIEW);
		action1Cell.setValue("<i>Yes/No : </i>");
		
		DynamicGridCell value1Cell = value1Row.getCells().newCell(getAnaestheticCol("VALUES"), DynamicCellType.MULTISELECT);
		value1Cell.getItems().newItem("Yes");
		value1Cell.getItems().newItem("No");
		value1Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value2Row = action1Row.getRows().newRow();
		value2Row.setSelectable(false);
		DynamicGridCell action2Cell = value2Row.getCells().newCell(getAnaestheticCol("ACTIONS_A"), DynamicCellType.HTMLVIEW);
		action2Cell.setValue("<i>Outcome :</i>");
		
		DynamicGridCell value2Cell = value2Row.getCells().newCell(getAnaestheticCol("VALUES"), DynamicCellType.HTMLVIEW);
		value2Cell.setValue("<textarea rows='6' cols='81'>");
		
		DynamicGridRow value3Row = action1Row.getRows().newRow();
		value3Row.setSelectable(false);
		DynamicGridCell action3Cell = value3Row.getCells().newCell(getAnaestheticCol("ACTIONS_A"), DynamicCellType.HTMLVIEW);
		action3Cell.setValue("<i>Fit for Surgery : </i>");
		
		DynamicGridCell value3Cell = value3Row.getCells().newCell(getAnaestheticCol("VALUES"), DynamicCellType.MULTISELECT);
		value3Cell.getItems().newItem("Yes");
		value3Cell.getItems().newItem("No");
		value3Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
	}
	
	private void populateClexaneTab() 
	{
		form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().clear();
		
		DynamicGridRow value1Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value1Row.setSelectable(false);
		DynamicGridCell action1Cell = value1Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action1Cell.setValue("<i>1.<b>	Discussion with patient about post discharge Clexane administration : </i></b>");
		
		DynamicGridCell value1Cell = value1Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value1Cell.getItems().newItem("Yes");
		value1Cell.getItems().newItem("No");
		value1Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value2Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value2Row.setSelectable(false);
		DynamicGridCell action2Cell = value2Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action2Cell.setValue("<i>2.<b>	Patient informed of risks associated with using Clexane (including potential for injection site haematoma, pontine haemorrhage, death) : </i></b>");
		
		DynamicGridCell value2Cell = value2Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value2Cell.getItems().newItem("Yes");
		value2Cell.getItems().newItem("No");
		value2Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value3Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value3Row.setSelectable(false);
		DynamicGridCell action3Cell = value3Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action3Cell.setValue("<i>3.<b>	Patient has been advised that DVT Prophylaxis education will commence at Pre assessment and continue during hospital stay : </i></b>");
		
		DynamicGridCell value3Cell = value3Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value3Cell.getItems().newItem("Yes");
		value3Cell.getItems().newItem("No");
		
		DynamicGridRow value4Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value4Row.setSelectable(false);
		DynamicGridCell action4Cell = value4Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action4Cell.setValue("<i>4.<b> Does patient provisionally agree to take part in self injection of Clexane : </i></b>");
		
		DynamicGridCell value4Cell = value4Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value4Cell.getItems().newItem("Yes");
		value4Cell.getItems().newItem("No");
		value4Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value5Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value5Row.setSelectable(false);
		DynamicGridCell action5Cell = value5Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action5Cell.setValue("<i>5.<b>	If No, is there a carer/spouse willing to receive education in Clexane administration : </i></b>");
		
		DynamicGridCell value5Cell = value5Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value5Cell.getItems().newItem("Yes");
		value5Cell.getItems().newItem("No");
		value5Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value6Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value6Row.setSelectable(false);
		DynamicGridCell action6Cell = value6Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action6Cell.setValue("<i>6.<b>	Will application be made to District Nurse/Minor Injuries Unit to administer Clexane : </i></b>");
		
		DynamicGridCell value6Cell = value6Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value6Cell.getItems().newItem("Yes");
		value6Cell.getItems().newItem("No");
		value6Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value7Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value7Row.setSelectable(false);
		DynamicGridCell action7Cell = value7Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action7Cell.setValue("<i>7.<b>	Does patient wish to receive NO Clexane administration post discharge?  </i></b>");
		
		DynamicGridCell value7Cell = value7Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value7Cell.getItems().newItem("Yes");
		value7Cell.getItems().newItem("No");
		value7Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value8Row = form.lyr1().tabNursing().lyrNursing().tabClexane().dyngrdClexane().getRows().newRow();
		value8Row.setSelectable(false);
		DynamicGridCell action8Cell = value8Row.getCells().newCell(getClexaneCol("ACTIONS_C"), DynamicCellType.HTMLVIEW);
		action8Cell.setValue("<i>8.<b>	If Yes, has patient signed Clexane disclaimer: </i></b>");
		
		DynamicGridCell value8Cell = value8Row.getCells().newCell(getClexaneCol("VALUES"), DynamicCellType.MULTISELECT);
		value8Cell.getItems().newItem("Yes");
		value8Cell.getItems().newItem("No");
		value8Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
	}
	
	/*private void populateTherapyTab() 
	{
		form.lyr1().tabTherapy().dyngrdTherapy().getRows().clear();
		
		DynamicGridRow value1Row = form.lyr1().tabTherapy().dyngrdTherapy().getRows().newRow();
		value1Row.setSelectable(false);
		DynamicGridCell action1Cell = value1Row.getCells().newCell(getTherapyCol("ACTIONS_T"), DynamicCellType.HTMLVIEW);
		action1Cell.setValue("<b>PRESENT ABILITY: </b>");
		
		DynamicGridRow value2Row = form.lyr1().tabTherapy().dyngrdTherapy().getRows().newRow();
		value2Row.setSelectable(false);
		DynamicGridCell action2Cell = value2Row.getCells().newCell(getTherapyCol("ACTIONS_T"), DynamicCellType.HTMLVIEW);
		action2Cell.setValue("<b>Mobility : </b>");
		
		DynamicGridCell value1Cell = value1Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value1Cell.setValue("<textarea rows='1' cols='31'>");
		
		DynamicGridRow value2Row = form.lyr1().tabNursing().lyrNursing().tabBasObs().dyngrdBaselineObs().getRows().newRow();
		value2Row.setSelectable(false);
		DynamicGridCell action2Cell = value2Row.getCells().newCell(getNursingBaselineObsCol("ACTIONS_N"), DynamicCellType.HTMLVIEW);
		action2Cell.setValue("<i>Pulse : </i>");
		
		DynamicGridCell value2Cell = value2Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value2Cell.setValue("<textarea rows='1' cols='31'>");
		
		DynamicGridRow value3Row = form.lyr1().tabNursing().lyrNursing().tabBasObs().dyngrdBaselineObs().getRows().newRow();
		value3Row.setSelectable(false);
		DynamicGridCell action3Cell = value3Row.getCells().newCell(getNursingBaselineObsCol("ACTIONS_N"), DynamicCellType.HTMLVIEW);
		action3Cell.setValue("<i>Blood Pressure: </i>");
		
		DynamicGridCell value3Cell = value3Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value3Cell.setValue("<textarea rows='1' cols='31'>");
		
		DynamicGridRow value4Row = form.lyr1().tabNursing().lyrNursing().tabBasObs().dyngrdBaselineObs().getRows().newRow();
		value4Row.setSelectable(false);
		DynamicGridCell action4Cell = value4Row.getCells().newCell(getNursingBaselineObsCol("ACTIONS_N"), DynamicCellType.HTMLVIEW);
		action4Cell.setValue("<i>Respirations : </i>");
		
		DynamicGridCell value4Cell = value4Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value4Cell.setValue("<textarea rows='1' cols='31'>");
		
		DynamicGridRow value5Row = form.lyr1().tabNursing().lyrNursing().tabBasObs().dyngrdBaselineObs().getRows().newRow();
		value5Row.setSelectable(false);
		DynamicGridCell action5Cell = value5Row.getCells().newCell(getNursingBaselineObsCol("ACTIONS_N"), DynamicCellType.HTMLVIEW);
		action5Cell.setValue("<i>Weight : </i>");
		
		DynamicGridCell value5Cell = value5Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value5Cell.setValue("<textarea rows='1' cols='31'>");
		
		DynamicGridRow value6Row = form.lyr1().tabNursing().lyrNursing().tabBasObs().dyngrdBaselineObs().getRows().newRow();
		value6Row.setSelectable(false);
		DynamicGridCell action6Cell = value6Row.getCells().newCell(getNursingBaselineObsCol("ACTIONS_N"), DynamicCellType.HTMLVIEW);
		action6Cell.setValue("<i>Height : </i>");
		
		DynamicGridCell value6Cell = value6Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value6Cell.setValue("<textarea rows='1' cols='31'>");
		
		DynamicGridRow value7Row = form.lyr1().tabNursing().lyrNursing().tabBasObs().dyngrdBaselineObs().getRows().newRow();
		value7Row.setSelectable(false);
		DynamicGridCell action7Cell = value7Row.getCells().newCell(getNursingBaselineObsCol("ACTIONS_N"), DynamicCellType.HTMLVIEW);
		action7Cell.setValue("<i>Urinalysis : </i>");
		
		DynamicGridCell value7Cell = value7Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value7Cell.setValue("<textarea rows='1' cols='31'>");
		
		DynamicGridRow value8Row = form.lyr1().tabNursing().lyrNursing().tabBasObs().dyngrdBaselineObs().getRows().newRow();
		value8Row.setSelectable(false);
		DynamicGridCell action8Cell = value8Row.getCells().newCell(getNursingBaselineObsCol("ACTIONS_N"), DynamicCellType.HTMLVIEW);
		action8Cell.setValue("<i>BMI : </i>");
		
		DynamicGridCell value8Cell = value8Row.getCells().newCell(getNursingBaselineObsCol("VALUES"), DynamicCellType.HTMLVIEW);
		value8Cell.setValue("<textarea rows='1' cols='31'>");
	}
	*/
	private void populateConsultationTab() 
	{
		form.lyr1().tabConsultant().dyngrdConsultant().getRows().clear();
		DynamicGridRow action1Row = form.lyr1().tabConsultant().dyngrdConsultant().getRows().newRow();
		action1Row.setExpanded(true);
		action1Row.setSelectable(false);
		DynamicGridCell phaseRow1Cell = action1Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		phaseRow1Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Medical History & Examination</b></font>");
		
		DynamicGridRow valueRow = action1Row.getRows().newRow();
		valueRow.setSelectable(false);
		DynamicGridCell action1Cell = valueRow.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action1Cell.setValue("<i>Surgical Procedure : </i>");
		
		DynamicGridCell value1Cell = valueRow.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.QUERYCOMBOBOX);			
		
		DynamicGridRow value2Row = action1Row.getRows().newRow();
		value2Row.setSelectable(false);
		DynamicGridCell action2Cell = value2Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action2Cell.setValue("<i>Presenting Problem : </i>");
		
		DynamicGridCell value2Cell = value2Row.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.QUERYCOMBOBOX);
		
		DynamicGridRow value3Row = action1Row.getRows().newRow();
		value3Row.setSelectable(false);
		DynamicGridCell action3Cell = value3Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action3Cell.setValue("<i>Past Medical History : </i>");
		
		DynamicGridCell value3Cell = value3Row.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.HTMLVIEW);
		value3Cell.setValue("<textarea rows='6' cols='81'>");
		
		
		
		DynamicGridRow action2Row = form.lyr1().tabConsultant().dyngrdConsultant().getRows().newRow();
		action2Row.setExpanded(true);
		action2Row.setSelectable(false);
		DynamicGridCell phaseRow2Cell = action2Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		phaseRow2Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Physical Examination</b></font>");
		
		DynamicGridRow value4Row = action2Row.getRows().newRow();
		value4Row.setSelectable(false);
		DynamicGridCell action4Cell = value4Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action4Cell.setValue("<i>General : </i>");
		
		DynamicGridCell value4Cell = value4Row.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.MULTISELECT);
		value4Cell.getItems().newItem("Normal");
		value4Cell.getItems().newItem("Abormal");
		value4Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));
		
		DynamicGridRow value5Row = action2Row.getRows().newRow();
		value5Row.setSelectable(false);
		DynamicGridCell action5Cell = value5Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action5Cell.setValue("<i>Heart : </i>");
		
		DynamicGridCell value5Cell = value5Row.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.MULTISELECT);
		value5Cell.getItems().newItem("Normal");
		value5Cell.getItems().newItem("Abormal");
		value5Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));			
		
		DynamicGridRow value6Row = action2Row.getRows().newRow();
		value6Row.setSelectable(false);
		DynamicGridCell action6Cell = value6Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action6Cell.setValue("<i>Lugs : </i>");
		
		DynamicGridCell value6Cell = value6Row.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.MULTISELECT);
		value6Cell.getItems().newItem("Normal");
		value6Cell.getItems().newItem("Abormal");
		value6Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));

		
		
		
		DynamicGridRow action3Row = form.lyr1().tabConsultant().dyngrdConsultant().getRows().newRow();
		action3Row.setExpanded(true);
		action3Row.setSelectable(false);
		DynamicGridCell phaseRow3Cell = action3Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		phaseRow3Cell.setValue("<img src='" +form.getImages().Clinical.Action_selected.getImagePath() + "'>" + "<font face='Verdana' color=AA5088><b> Specific Examination</b></font>");
		
		DynamicGridRow value7Row = action3Row.getRows().newRow();
		value7Row.setSelectable(false);
		DynamicGridCell action7Cell = value7Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action7Cell.setValue("<i>Left/Right : </i>");
		
		DynamicGridCell value7Cell = value7Row.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.MULTISELECT);
		value7Cell.getItems().newItem("Left");
		value7Cell.getItems().newItem("Right");
		value7Cell.setMaxCheckedItemsForMultiSelect(new Integer(1));

		DynamicGridRow value8Row = action3Row.getRows().newRow();
		value8Row.setSelectable(false);
		DynamicGridCell action8Cell = value8Row.getCells().newCell(getConsultantCol("ACTIONS_CONSULTANT"), DynamicCellType.HTMLVIEW);
		action8Cell.setValue("<i>Surgeon Conclusion  : </i>");
		
		DynamicGridCell value8Cell = value8Row.getCells().newCell(getConsultantCol("VALUES"), DynamicCellType.HTMLVIEW);
		value8Cell.setValue("<textarea rows='6' cols='81'>");
	}
	@Override
	protected void onlyrNursingTabChanged(LayerBridge tab) 
	{
		if (tab.equals(form.lyr1().tabNursing().lyrNursing().tabClexane()))
		{
			populateClexaneTab();
		}
	}
	@Override
	protected void onLnk1Click() throws PresentationLogicException {
		engine.open(engine.getPreviousNonDialogFormName());
		
	}
	
	
}
