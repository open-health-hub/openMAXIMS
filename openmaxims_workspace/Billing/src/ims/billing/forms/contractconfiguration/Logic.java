//#############################################################################
//#                                                                           #
//#  Copyright (C) <2014>  <IMS MAXIMS>                                       #
//#                                                                           #
//#  This program is free software: you can redistribute it and/or modify     #
//#  it under the terms of the GNU Affero General Public License as           #
//#  published by the Free Software Foundation, either version 3 of the       #
//#  License, or (at your option) any later version.                          # 
//#                                                                           #
//#  This program is distributed in the hope that it will be useful,          #
//#  but WITHOUT ANY WARRANTY; without even the implied warranty of           #
//#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            #
//#  GNU Affero General Public License for more details.                      #
//#                                                                           #
//#  You should have received a copy of the GNU Affero General Public License #
//#  along with this program.  If not, see <http://www.gnu.org/licenses/>.    #
//#                                                                           #
//#############################################################################
//#EOH
// This code was generated by Daniel Laffan using IMS Development Environment (version 1.80 build 3972.30067)
// Copyright (C) 1995-2010 IMS MAXIMS. All rights reserved.

package ims.billing.forms.contractconfiguration;

import java.util.ArrayList;

import ims.framework.controls.DynamicGridCell;
import ims.framework.controls.DynamicGridColumn;
import ims.framework.controls.DynamicGridRow;
import ims.framework.enumerations.DynamicCellType;
import ims.framework.exceptions.PresentationLogicException;

public class Logic extends BaseLogic
{
	private static final long serialVersionUID = 1L;
	public static final  Integer	COL_CHECK				= new Integer(-1);
	public static final  Integer	COL_NAME				= new Integer(-2);
	public static final  Integer	COL_COST				= new Integer(-3);
	public static final  Integer	COL_BASE				= new Integer(-4);
	public static final  Integer	COL_MARKUP				= new Integer(-5);
	
	@Override
	protected void onFormOpen(Object[] args) throws PresentationLogicException 
	{
		initialise();	
		initializeDynamicGrid();
		populateDynamicGrid();
	}
	
	private void initialise() 
	{
		form.getContextMenus().Billing.getPurchaserMenuNewItem().setVisible(true);
		form.getContextMenus().Billing.getPurchaserMenuEditItem().setVisible(true);
		form.getContextMenus().Billing.getPurchaserMenuViewItem().setVisible(true);
		form.getContextMenus().Billing.getPurchaserMenuRemoveItem().setVisible(true);
		
		form.getContextMenus().Billing.getContractChargeItemsAddItem().setVisible(true);
		form.getContextMenus().Billing.getContractChargeItemsRemoveItem().setVisible(true);
		form.getContextMenus().Billing.getContractChargeItemsAddItem().setVisible(true);
		form.getContextMenus().Billing.getContractChargeItemsAddCostandPricesItem().setVisible(true);
		form.getContextMenus().Billing.getContractChargeItemsEditCostAndPricesItem().setVisible(true);
	}

	@Override
	protected void onContextMenuItemClick(int menuItemID, ims.framework.Control sender) throws ims.framework.exceptions.PresentationLogicException
	{
		if(sender.equals(form.lyrContract().tabPurchaser().grdPurchaser()))
		{
			engine.open(form.getForms().Billing.PurchaserDialog);
		}
		else if(sender.equals(form.lyrContract().tabContractChargeItems().dyngrdContractCharge()))
		{
			switch (menuItemID)
			{
				case GenForm.ContextMenus.BillingNamespace.ContractChargeItems.Add:
					addItem();
					break;
				case GenForm.ContextMenus.BillingNamespace.ContractChargeItems.Remove:
					removeItem();
					break;
				case GenForm.ContextMenus.BillingNamespace.ContractChargeItems.AddCostandPrices:
					addCostandPrices();
					break;
				case GenForm.ContextMenus.BillingNamespace.ContractChargeItems.EditCostAndPrices:
					editCostAndPrices();
					break;	
			}
		}
	}
	
	
	private void addItem() 
	{	
		engine.open(form.getForms().Clinical.PackagesAndConsumables, new Object[]{5, form.getLocalContext().getISCCodes()});
	}

	private void removeItem() 
	{	
		engine.open(form.getForms().Clinical.PackagesAndConsumables, new Object[]{5, form.getLocalContext().getISCCodes()});
	}

	private void addCostandPrices() 
	{	
		engine.open(form.getForms().Billing.CostsAndPricesDialog);
	}

	private void editCostAndPrices() 
	{	
		engine.open(form.getForms().Billing.CostsAndPricesDialog);
	}

	private void initializeDynamicGrid()
	{		
		form.lyrContract().tabContractChargeItems().dyngrdContractCharge().clear();
		form.lyrContract().tabContractChargeItems().dyngrdContractCharge().setSelectable(true);		
		
		DynamicGridColumn colCheck = form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getColumns().newColumn(" ", COL_CHECK);
		colCheck.setWidth(60);
		
		DynamicGridColumn colName = form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getColumns().newColumn("Name", COL_NAME);
		colName.setWidth(300);	

		DynamicGridColumn colCategory = form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getColumns().newColumn("Cost Price", COL_COST);
		colCategory.setWidth(80);	

		DynamicGridColumn colType = form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getColumns().newColumn("Base Price", COL_BASE);
		colType.setWidth(80);	
		
		DynamicGridColumn colUser = form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getColumns().newColumn("MarkUp Price", COL_MARKUP);
		colUser.setWidth(80);	
	}
	
	private void populateDynamicGrid()
	{	
		ArrayList<String> ISCCodes = new ArrayList<String>();
		
		ISCCodes.add("Accommodation");
		ISCCodes.add("Chemotherapy");
		ISCCodes.add("Childbirth");
		ISCCodes.add("Consumables");
		ISCCodes.add("Chiropracty");
		ISCCodes.add("CT");
		ISCCodes.add("Drugs");
		ISCCodes.add("Drugs & Consumables");
		ISCCodes.add("ECG");
		ISCCodes.add("Group Practice");
		ISCCodes.add("Minor Procedures");
		ISCCodes.add("Misc");
		ISCCodes.add("MRI");
		ISCCodes.add("Nursing Fees");
		ISCCodes.add("Osteopathy");
		ISCCodes.add("Out Pt Minor Procedures");
		ISCCodes.add("Packages");
		ISCCodes.add("Pathology");
		ISCCodes.add("Physio");
		ISCCodes.add("Prosthesis");
		ISCCodes.add("Psychiatric");
		ISCCodes.add("Radiotherapy");
		ISCCodes.add("Scans");
		ISCCodes.add("Specialist & Practitioner Fees");
		ISCCodes.add("Theatre");
		ISCCodes.add("Transport");
		ISCCodes.add("Ultrasound");
		ISCCodes.add("X-Ray");
		
		
		
		DynamicGridRow 	dynRow = null;
		DynamicGridCell cell  = null;
		
		form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getRows().clear();
		
		for (int i = 0; i < ISCCodes.size(); i++) 
		{
			dynRow	= form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getRows().newRow();
			cell = dynRow.getCells().newCell(getColumn(COL_CHECK), DynamicCellType.BOOL);	
			cell.setValue(true);
						
			cell = dynRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
			cell.setValue("<b>"+ ISCCodes.get(i) +"</b>");
								
			dynRow.setSelectable(true);
			
			DynamicGridRow childRow = null;
			
			
			if (i == 6)
			{
				dynRow.setExpanded(true);
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Morphine 5mgs, 10mgs");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Oral Analgesia – co-codamol, paracetamol");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Anti-inflammatories – voltarol, brufen");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Cefuroxime 750mgs IV");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Gentamicin 80mgs IV");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Clexane 20mgs, 40mgs s/c");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Normal Saline solution");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Dextrose Saline solution");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Hartmanns solution");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
			}
			
			if (i == 7)
			{
				dynRow.setExpanded(true);
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Gauze packs");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Swab packs");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Dressing pack – Small, Large");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Normal Saline satchets");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Bioclusive transparent dressing");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Mepore adhesive dressings");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));

				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Tegaderm transparent dressing");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));				
			}
						
					
			
			if (i == 24)
			{
				
				
				dynRow.setExpanded(true);
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Dexon  1/0, 2/0");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Ethilon  2/0, 3/0, 4/0");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
			}
			
			if (i == 3)
			{
				
				
				dynRow.setExpanded(true);
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Diathermy Plate with lead – Adult");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Foley Urinary  Catheter  10F, 12F, 14F.....24F");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Long term catheter drainage bag");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Nasal oxygen cannula");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Oxygen facemask");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Rebreather oxygen mask");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Surgical stockings – small, medium, large");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Wound Dressing pack");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Tubigrip – A – F");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Blood transfusion – 2 units");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>IV fluids – Normal Saline, Dextrose Saline");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));				
			}
			
			if (i == 19)
			{
				
				
				dynRow.setExpanded(true);
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Femoral stem and head");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Acetabular Cup  40mm, 42mm, 44mm...... 54mm");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
			}
			
			if (i == 27)
			{
				
				
				dynRow.setExpanded(true);
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>MRI – 1 area");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>X-Ray – 1 joint, 3 views");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
			}
						
			if (i == 17)
			{
				childRow = dynRow.getRows().newRow();
				
				dynRow.setExpanded(true);
				
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Biochemistry – U&E, CRP");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
				
				childRow = dynRow.getRows().newRow();
				cell = childRow.getCells().newCell(getColumn(COL_NAME), DynamicCellType.HTMLVIEW);	
				cell.setValue("<img src='" + form.getImages().Admin.AdminAction24.getImagePath() +  "'/><font color=#0000FF>Haematology -  Cross Match, ESR, FBC");
				
				cell = childRow.getCells().newCell(getColumn(COL_COST), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>290</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_BASE), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>445.90</i>");
				
				cell = childRow.getCells().newCell(getColumn(COL_MARKUP), DynamicCellType.HTMLVIEW);	
				cell.setValue("<i>89.35 %</i>");
				
				childRow.setIdentifier(ISCCodes.get(i));
			}
						
			dynRow.setIdentifier(ISCCodes.get(i));
		}
	}
	
	private DynamicGridColumn getColumn(Integer colName)
	{
		return form.lyrContract().tabContractChargeItems().dyngrdContractCharge().getColumns().getByIdentifier(colName);
	}

	@Override
	protected void onDyngrdContractChargeRowSelectionChanged(DynamicGridRow row)
			throws PresentationLogicException 
	{
		form.getLocalContext().setISCCodes((String) row.getIdentifier());
	}

	@Override
	protected void onDyngrdContractChargeRowChecked(DynamicGridRow row) {
		// TODO Auto-generated method stub
		
	}
	
	
}
