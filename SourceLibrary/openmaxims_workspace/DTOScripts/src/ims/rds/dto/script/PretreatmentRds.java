//#############################################################################
//#                                                                           #
//#  Copyright (C) <2014>  <IMS MAXIMS>                                       #
//#                                                                           #
//#  This program is free software: you can redistribute it and/or modify     #
//#  it under the terms of the GNU Affero General Public License as           #
//#  published by the Free Software Foundation, either version 3 of the       #
//#  License, or (at your option) any later version.                          # 
//#                                                                           #
//#  This program is distributed in the hope that it will be useful,          #
//#  but WITHOUT ANY WARRANTY; without even the implied warranty of           #
//#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            #
//#  GNU Affero General Public License for more details.                      #
//#                                                                           #
//#  You should have received a copy of the GNU Affero General Public License #
//#  along with this program.  If not, see <http://www.gnu.org/licenses/>.    #
//#                                                                           #
//#############################################################################
//#EOH
//This code is generated, please do not modify it.
//PretreatmentRds.java : Generated by aursache on 21 Aug 2007 16:19.
//Java DTO script

package ims.rds.dto.script;

import java.util.ArrayList;
import ims.rds.dto.*;
import ims.dto.client.Sd_comp_plan_lst;

public final class PretreatmentRds extends IMSReportDataSourceDTO
{
    public PretreatmentRds(ims.dto.DTODomain domain, String seed1, String seed2, String seed3, String seed4, String seed5)
    {
        super(domain);
        SEED_VALUE[0] = seed1;
        SEED_VALUE[1] = seed2;
        SEED_VALUE[2] = seed3;
        SEED_VALUE[3] = seed4;
        SEED_VALUE[4] = seed5;
    }

    //Seeds
    private String[] SEED = new String[] {"SD_COMP_PLAN_LST.ACTIVDONE", "SD_COMP_PLAN_LST.TARGETDATE", "SD_COMP_PLAN_LST.PLANACTIVITY", "SD_COMP_PLAN_LST.PLANHCP", "SD_COMP_PLAN_LST.ACT_CONSULT"};
    private String[] SEED_VALUE = new String[5];

    //User variables declaration
    private String[] IMS_USERVAR = new String[] {"_PKEY_", "_HOSPNUM_", "_EPISODE_"};
    private String[] IMS_USERVAR_ALIAS = new String[] {"_PKEY_", "_HOSPNUM_", "_EPISODE_"};
    private String[] IMS_USERVAR_DESC = new String[] {"__", "__", "__"};
    private ArrayList IMS_USERVAR_VALUE = new ArrayList();

    //Services declarations
    private String[] SD_COMP_PLAN_LST = new String[] {"SD_COMP_PLAN_ID", "ACTIVDONE", "TARGETDATE", "PLANACTIVITY", "PLANHCP", "ACT_CONSULT", "ACT_CONSULTTXT", "PLANHCPTXT", "COMPPLANTXT", "TARGETDEADLINE", "HOSPNUM", "PAT_SURNAME", "PAT_FORNAME", "NEXTPLANACTIV", "MC_NM", "PLANACTIVITYTXT"};
    private String[] SD_COMP_PLAN_LST_ALIAS = new String[] {"SD_COMP_PLAN_ID", "ACTIVDONE", "TARGETDATE", "PLANACTIVITY", "PLANHCP", "ACT_CONSULT", "ACT_CONSULTTXT", "PLANHCPTXT", "COMPPLANTXT", "TARGETDEADLINE", "HOSPNUM", "PAT_SURNAME", "PAT_FORNAME", "NEXTPLANACTIV", "MC_NM", "PLANACTIVITYTXT"};
    private String[] SD_COMP_PLAN_LST_ATTR_DESC = new String[] {"__", "__", "_D", "__", "__", "__", "__", "__", "__", "_D", "__", "__", "__", "__", "__", "__"};
    private ArrayList SD_COMP_PLAN_LST_VALUE = new ArrayList();
    private ArrayList SD_COMP_PLAN_LST_FILTERS = new ArrayList();
    private ims.dto.client.Sd_comp_plan_lst sd_comp_plan_lstRds = null;

    //Init default values
    private void InitDefaultValues()
    {
        int i;

        sd_comp_plan_lstRds = (Sd_comp_plan_lst)domain.getDTOInstance(Sd_comp_plan_lst.class);

        //init user variables
        IMS_USERVAR_VALUE.clear();
        for(i = 0; i < 3; i++)
        {
            IMS_USERVAR_VALUE.add(new ArrayList());

            for(int j = 0; j < SEED.length; j++)
            {
                if(SEED[j].equalsIgnoreCase(IMS_USERVAR[i]) == true)
                {
                    ArrayList al = (ArrayList)IMS_USERVAR_VALUE.get(i);
                    al.add(SEED_VALUE[j]);
                    IMS_USERVAR_VALUE.set(i,al);
                    break;
                }
            }
        }

        //init variables
        SD_COMP_PLAN_LST_VALUE.clear();
        for(i = 0; i < 16; i++)
            SD_COMP_PLAN_LST_VALUE.add(new ArrayList());

        int ix = 0;
        ix = GetIndexByName("SD_COMP_PLAN_LST.ACTIVDONE", SD_COMP_PLAN_LST);
        ArrayList al = (ArrayList)SD_COMP_PLAN_LST_VALUE.get(ix);
        al.add(SEED_VALUE[GetIndexByName("SD_COMP_PLAN_LST.ACTIVDONE", SEED)]);
        SD_COMP_PLAN_LST_VALUE.set(ix,al);
        ix = GetIndexByName("SD_COMP_PLAN_LST.TARGETDATE", SD_COMP_PLAN_LST);
        al = (ArrayList)SD_COMP_PLAN_LST_VALUE.get(ix);
        al.add(SEED_VALUE[GetIndexByName("SD_COMP_PLAN_LST.TARGETDATE", SEED)]);
        SD_COMP_PLAN_LST_VALUE.set(ix,al);
        ix = GetIndexByName("SD_COMP_PLAN_LST.PLANACTIVITY", SD_COMP_PLAN_LST);
        al = (ArrayList)SD_COMP_PLAN_LST_VALUE.get(ix);
        al.add(SEED_VALUE[GetIndexByName("SD_COMP_PLAN_LST.PLANACTIVITY", SEED)]);
        SD_COMP_PLAN_LST_VALUE.set(ix,al);
        ix = GetIndexByName("SD_COMP_PLAN_LST.PLANHCP", SD_COMP_PLAN_LST);
        al = (ArrayList)SD_COMP_PLAN_LST_VALUE.get(ix);
        al.add(SEED_VALUE[GetIndexByName("SD_COMP_PLAN_LST.PLANHCP", SEED)]);
        SD_COMP_PLAN_LST_VALUE.set(ix,al);
        ix = GetIndexByName("SD_COMP_PLAN_LST.ACT_CONSULT", SD_COMP_PLAN_LST);
        al = (ArrayList)SD_COMP_PLAN_LST_VALUE.get(ix);
        al.add(SEED_VALUE[GetIndexByName("SD_COMP_PLAN_LST.ACT_CONSULT", SEED)]);
        SD_COMP_PLAN_LST_VALUE.set(ix,al);
    }

    public void SetSeeds(String seed1, String seed2, String seed3, String seed4, String seed5)
    {
        SEED_VALUE[0] = seed1;
        SEED_VALUE[1] = seed2;
        SEED_VALUE[2] = seed3;
        SEED_VALUE[3] = seed4;
        SEED_VALUE[4] = seed5;
    }

    private boolean _internalGetData()
    {
        boolean bRet = true;

        //clear internal collections
        Clear();

        //init the default values first
        InitDefaultValues();

        //LIST SD_COMP_PLAN_LST
        SD_COMP_PLAN_LST_FILTERS.clear();
        SD_COMP_PLAN_LST_FILTERS.add("ACT_CONSULT");
        SD_COMP_PLAN_LST_FILTERS.add("PLANHCP");
        SD_COMP_PLAN_LST_FILTERS.add("PLANACTIVITY");
        SD_COMP_PLAN_LST_FILTERS.add("TARGETDATE");
        SD_COMP_PLAN_LST_FILTERS.add("ACTIVDONE");
        bRet = CallService(sd_comp_plan_lstRds, "SD_COMP_PLAN_LST", "LIST", SD_COMP_PLAN_LST, SD_COMP_PLAN_LST_ATTR_DESC, SD_COMP_PLAN_LST_VALUE, SD_COMP_PLAN_LST_FILTERS, false);

        return bRet;
    }

    public String GetData()
    {
        boolean bRet = _internalGetData();

        //build results
        BuildResult(SD_COMP_PLAN_LST_ALIAS, SD_COMP_PLAN_LST_ATTR_DESC, SD_COMP_PLAN_LST_VALUE);
        BuildResult(IMS_USERVAR_ALIAS, IMS_USERVAR_DESC, IMS_USERVAR_VALUE);

        return Serialize();
    }

    public String GetStructuredData(String sName)
    {
        boolean bRet = _internalGetData();

        //build results
        BuildStructuredResult("SD_COMP_PLAN_LST", SD_COMP_PLAN_LST_ALIAS, SD_COMP_PLAN_LST_ATTR_DESC, SD_COMP_PLAN_LST_VALUE);
        BuildStructuredResult("IMS_USERVAR", IMS_USERVAR_ALIAS, IMS_USERVAR_DESC, IMS_USERVAR_VALUE);

        return SerializeStructuredData(sName);
    }
}
