// This code was generated by Cristian Belciug using IMS Development Environment (version 1.80 build 4050.19540)
// Copyright (C) 1995-2011 IMS MAXIMS. All rights reserved.

package ims.RefMan.domain.impl;

import ims.RefMan.domain.base.impl.BaseTheatreTrackingStatusColourConfigImpl;
import ims.RefMan.domain.objects.TheatreTrackingStatusColourConfig;
import ims.RefMan.vo.domain.TheatreTrackingStatusColourConfigVoAssembler;
import ims.domain.DomainFactory;
import ims.framework.exceptions.CodingRuntimeException;

public class TheatreTrackingStatusColourConfigImpl extends BaseTheatreTrackingStatusColourConfigImpl
{

	private static final long serialVersionUID = 1L;

	public ims.RefMan.vo.TheatreTrackingStatusColourConfigVo getColorConfig(ims.vo.LookupInstVo lookupInstance)
	{
		if(lookupInstance == null)
			throw new CodingRuntimeException("Can not get TheatreTrackingStatusColourConfigVo for null LookupInstVo.");
		
		DomainFactory factory = getDomainFactory();
		
		return TheatreTrackingStatusColourConfigVoAssembler.create((TheatreTrackingStatusColourConfig) factory.findFirst("from TheatreTrackingStatusColourConfig as ttsc where ttsc.trackingStatus.id = :statusLookup and ttsc.isRIE is null", new String[] {"statusLookup"}, new Object[] {lookupInstance.getID()}));
	}

	public ims.RefMan.vo.TheatreTrackingStatusColourConfigVo saveColorConfig(ims.RefMan.vo.TheatreTrackingStatusColourConfigVo colorConfig) throws ims.domain.exceptions.DomainInterfaceException, ims.domain.exceptions.StaleObjectException, ims.domain.exceptions.UniqueKeyViolationException
	{
		if(colorConfig == null)
			throw new CodingRuntimeException("record is null in method save");
		
		if(!colorConfig.isValidated())
			throw new CodingRuntimeException("record has not been validated in method save");
		
		DomainFactory factory = getDomainFactory();
		TheatreTrackingStatusColourConfig doColorConfig = TheatreTrackingStatusColourConfigVoAssembler.extractTheatreTrackingStatusColourConfig(factory, colorConfig);
		
		factory.save(doColorConfig);
		
		return TheatreTrackingStatusColourConfigVoAssembler.create(doColorConfig);
	}
}
