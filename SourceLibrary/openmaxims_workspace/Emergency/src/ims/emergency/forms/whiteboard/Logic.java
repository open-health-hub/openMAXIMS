//#############################################################################
//#                                                                           #
//#  Copyright (C) <2014>  <IMS MAXIMS>                                       #
//#                                                                           #
//#  This program is free software: you can redistribute it and/or modify     #
//#  it under the terms of the GNU Affero General Public License as           #
//#  published by the Free Software Foundation, either version 3 of the       #
//#  License, or (at your option) any later version.                          # 
//#                                                                           #
//#  This program is distributed in the hope that it will be useful,          #
//#  but WITHOUT ANY WARRANTY; without even the implied warranty of           #
//#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            #
//#  GNU Affero General Public License for more details.                      #
//#                                                                           #
//#  You should have received a copy of the GNU Affero General Public License #
//#  along with this program.  If not, see <http://www.gnu.org/licenses/>.    #
//#                                                                           #
//#############################################################################
//#EOH
// This code was generated by Catalin Tomozei using IMS Development Environment (version 1.64 build 3153.27307)
// Copyright (C) 1995-2008 IMS MAXIMS plc. All rights reserved.

package ims.emergency.forms.whiteboard;

import ims.core.vo.lookups.YesNo;
import ims.framework.controls.DynamicGrid;
import ims.framework.controls.DynamicGridCell;
import ims.framework.controls.DynamicGridColumn;
import ims.framework.controls.DynamicGridRow;
import ims.framework.enumerations.DynamicCellType;

public class Logic extends BaseLogic
{
	private static final long serialVersionUID = 1L;
	public static final String	COLHOSPITALNO	= "-1";
	public static final String	COLPATIENT		= "-2";
	public static final String	COLSTATUS1		= "-3";
	public static final String	COLSTATUS2		= "-4";
	public static final String	COLSTATUS3		= "-5";
	public static final String	COLSTATUS4		= "-6";
	public static final String	COLSTATUS5		= "-7";
	public static final String	COLSTATUS6		= "-8";
	public static final String	COLSTATUS7		= "-9";
	public static final String	COLSTATUS8		= "-10";
	
	private void initialiseDynamicGrid()
	{
		DynamicGrid dynGrid = form.dyngrdList();
		form.dyngrdList().clear();
		
		DynamicGridColumn colHospitalNo = null;
		DynamicGridColumn colPatientName = null;
		DynamicGridColumn colStatus1 = null;
		DynamicGridColumn colStatus2 = null;
		DynamicGridColumn colStatus3 = null;
		DynamicGridColumn colStatus4 = null;
		DynamicGridColumn colStatus5 = null;
		DynamicGridColumn colStatus6 = null;
		DynamicGridColumn colStatus7 = null;
		DynamicGridColumn colStatus8 = null;		
		
		colHospitalNo = dynGrid.getColumns().newColumn("Hospital No", COLHOSPITALNO);
		colPatientName = dynGrid.getColumns().newColumn("Patient Name", COLPATIENT);
		colStatus1 = dynGrid.getColumns().newColumn("S1", COLSTATUS1);
		colStatus2 = dynGrid.getColumns().newColumn("S2", COLSTATUS2);
		colStatus3 = dynGrid.getColumns().newColumn("S3", COLSTATUS3);
		colStatus4 = dynGrid.getColumns().newColumn("S4", COLSTATUS4);
		colStatus5 = dynGrid.getColumns().newColumn("S5", COLSTATUS5);
		colStatus6 = dynGrid.getColumns().newColumn("S6", COLSTATUS6);
		colStatus7 = dynGrid.getColumns().newColumn("S7", COLSTATUS7);
		colStatus8 = dynGrid.getColumns().newColumn("S8", COLSTATUS8);
		
		
		colHospitalNo.setWidth(100);
		colPatientName.setWidth(300);		
		colStatus1.setWidth(50);
		colStatus2.setWidth(50);
		colStatus3.setWidth(50);
		colStatus4.setWidth(50);
		colStatus5.setWidth(50);
		colStatus6.setWidth(50);
		colStatus7.setWidth(50);
		colStatus8.setWidth(50);		
	}
	
	private void populateEventTargetDinamicGrid() 
	{
		initialiseDynamicGrid();
		DynamicGrid dynGrid = form.dyngrdList();
		
		DynamicGridRow dynParentRow = dynGrid.getRows().newRow();
		DynamicGridCell cellHospitalNo = dynParentRow.getCells().newCell(getColumn(COLHOSPITALNO), DynamicCellType.STRING);
		populateHospitalNo(cellHospitalNo);
		DynamicGridCell cellPatient = dynParentRow.getCells().newCell(getColumn(COLPATIENT), DynamicCellType.STRING);
		populatePatient(cellPatient);
		DynamicGridCell cellStatus1 = dynParentRow.getCells().newCell(getColumn(COLSTATUS1), DynamicCellType.ANSWER);
		populateStatus(cellStatus1);
		DynamicGridCell cellStatus2 = dynParentRow.getCells().newCell(getColumn(COLSTATUS2), DynamicCellType.ANSWER);
		populateStatus(cellStatus2);
		DynamicGridCell cellStatus3 = dynParentRow.getCells().newCell(getColumn(COLSTATUS3), DynamicCellType.ANSWER);
		populateStatus(cellStatus3);
		DynamicGridCell cellStatus4 = dynParentRow.getCells().newCell(getColumn(COLSTATUS4), DynamicCellType.ANSWER);
		populateStatus(cellStatus4);
		DynamicGridCell cellStatus5 = dynParentRow.getCells().newCell(getColumn(COLSTATUS5), DynamicCellType.ANSWER);
		populateStatus(cellStatus5);
		DynamicGridCell cellStatus6 = dynParentRow.getCells().newCell(getColumn(COLSTATUS6), DynamicCellType.ANSWER);
		populateStatus(cellStatus6);
		DynamicGridCell cellStatus7 = dynParentRow.getCells().newCell(getColumn(COLSTATUS7), DynamicCellType.ANSWER);
		populateStatus(cellStatus7);
		DynamicGridCell cellStatus8 = dynParentRow.getCells().newCell(getColumn(COLSTATUS8), DynamicCellType.ANSWER);
		populateStatus(cellStatus8);
	}
	
	private void populateStatus(DynamicGridCell cellStatus) 
	{
		cellStatus.getItems().newItem(YesNo.NO,YesNo.NO.getImage());
		cellStatus.getItems().newItem(YesNo.YES,YesNo.YES.getImage());
		cellStatus.setValue(null);
		cellStatus.setAutoPostBack(false);			
	}

	private void populatePatient(DynamicGridCell cellPatient) 
	{
		cellPatient.getItems().clear();				
		cellPatient.getItems().newItem("Patient");			
	}

	private void populateHospitalNo(DynamicGridCell cellHospitalNo)
	{
		cellHospitalNo.getItems().clear();				
		cellHospitalNo.getItems().newItem("1");		
	}
	
	private DynamicGridColumn getColumn(String identifier)
	{
		return form.dyngrdList().getColumns().getByIdentifier(identifier);
	}
	
	
}
